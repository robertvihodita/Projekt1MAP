<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Room Details</title>
</head>
<body>
<h1>Room Details</h1>

<div>
    <p><strong>Number:</strong> <span th:text="${room.number}"></span></p>
    <p><strong>Hospital:</strong> <span th:text="${room.hospital.name}"></span></p>
    <p><strong>Capacity:</strong> <span th:text="${room.capacity}"></span></p>
    <p><strong>Status:</strong> <span th:text="${room.status}"></span></p>
</div>

<h3>Appointments in this Room</h3>
<table border="1">
    <tr>
        <th>Date</th>
        <th>Patient</th>
        <th>Assigned Staff</th>
    </tr>
    <tr th:each="appt : ${room.appointments}">
        <td th:text="${#temporals.format(appt.admissionDate, 'dd-MM-yyyy HH:mm')}"></td>
        <td th:text="${appt.patient.name}"></td>
        <td>
            <ul>
                <li th:each="assign : ${appt.medicalStaffAssignments}">
                    <span th:text="${assign.medicalStaff.name}"></span>
                    (<span th:text="${assign.medicalStaff.getClass().getSimpleName()}"></span>)
                </li>
            </ul>
        </td>
    </tr>
</table>

<br>
<a th:href="@{/rooms}">Back to Rooms</a>
</body>
</html>